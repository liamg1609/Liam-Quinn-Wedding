(()=>{var C=(()=>{let n=null,i=null,m=0,d=0,b=!0,s=!1,l=null,x=()=>{m+=1},h=()=>`(${d}/${m}) [${parseInt(d/m*100).toFixed(0)}%]`;return{init:()=>{n=document.getElementById("progress-info"),i=document.getElementById("progress-bar"),n.classList.remove("d-none"),l=new Promise(T=>document.addEventListener("undangan.progress.invalid",T))},add:x,invalid:T=>{b&&!s&&(b=!1,i.style.backgroundColor="red",n.innerText=`Error loading ${T} ${h()}`,document.dispatchEvent(new Event("undangan.progress.invalid")))},complete:(T,E=!1)=>{b&&(d+=1,n.innerText=`Loading ${T} ${E?"skipped":"complete"} ${h()}`,i.style.width=Math.min(d/m*100,100).toString()+"%",d===m&&(s=!0,document.dispatchEvent(new Event("undangan.progress.done"))))},getAbort:()=>l}})();var f=(()=>{let n='<span class="spinner-border spinner-border-sm my-0 ms-0 me-1 p-0" style="height: 0.8rem; width: 0.8rem;"></span>',i=[["*",'<strong class="text-theme-auto">$1</strong>'],["_",'<em class="text-theme-auto">$1</em>'],["~",'<del class="text-theme-auto">$1</del>'],["```",'<code class="font-monospace text-theme-auto">$1</code>']],m=[{type:"Mobile",regex:/Android.*Mobile|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i},{type:"Tablet",regex:/iPad|Android(?!.*Mobile)|Tablet/i},{type:"Desktop",regex:/Windows NT|Macintosh|Linux/i}],d=[{name:"Chrome",regex:/Chrome|CriOS/i},{name:"Safari",regex:/Safari/i},{name:"Edge",regex:/Edg|Edge/i},{name:"Firefox",regex:/Firefox|FxiOS/i},{name:"Opera",regex:/Opera|OPR/i},{name:"Internet Explorer",regex:/MSIE|Trident/i},{name:"Samsung Browser",regex:/SamsungBrowser/i}],b=[{name:"Windows",regex:/Windows NT ([\d.]+)/i},{name:"MacOS",regex:/Mac OS X ([\d_.]+)/i},{name:"Android",regex:/Android ([\d.]+)/i},{name:"iOS",regex:/OS ([\d_]+) like Mac OS X/i},{name:"Linux",regex:/Linux/i},{name:"Ubuntu",regex:/Ubuntu/i},{name:"Chrome OS",regex:/CrOS/i}],s=e=>String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),l=e=>{let t=r=>{window.alert(`${r} ${e}`)};return{success:()=>t("\u{1F7E9}"),error:()=>t("\u{1F7E5}"),warning:()=>t("\u{1F7E8}"),info:()=>t("\u{1F7E6}"),custom:r=>t(r)}},x=e=>window.confirm(`\u{1F7E6} ${e}`),h=(e,t)=>(e.replaceChildren(document.createRange().createContextualFragment(t)),e),$=(e,t,r=.05)=>new Promise(w=>{let L=parseFloat(e.style.opacity),I=t?1:0,B=()=>{L+=t?r:-r,L=Math.max(0,Math.min(1,L)),e.style.opacity=L.toFixed(2),t&&L>=I||!t&&L<=I?(e.style.opacity=I.toString(),w(e)):requestAnimationFrame(B)};requestAnimationFrame(B)}),p=(e,t=0)=>{let r=null;r=setTimeout(()=>{e(),clearTimeout(r),r=null},t)};return{loader:n,ask:x,copy:async(e,t=null,r=1500)=>{let w=e.getAttribute("data-copy");if(!w||w.length===0){l("Nothing to copy").warning();return}e.disabled=!0;try{await navigator.clipboard.writeText(w)}catch{e.disabled=!1,l("Failed to copy").error();return}let L=e.innerHTML;h(e,t||'<i class="fa-solid fa-check"></i>'),p(()=>{e.disabled=!1,e.innerHTML=L},r)},notify:l,timeOut:p,debounce:(e,t=100)=>{let r=null;return(...w)=>{clearTimeout(r),r=setTimeout(()=>e(...w),t)}},escapeHtml:s,base64Encode:e=>{let r=new TextEncoder().encode(e);return window.btoa(String.fromCharCode(...r))},base64Decode:e=>{let t=new TextDecoder,r=Uint8Array.from(window.atob(e),w=>w.charCodeAt(0));return t.decode(r)},disableButton:(e,t="Loading",r=!1)=>{e.disabled=!0;let w=e.innerHTML;return h(e,r?t:n+t),{restore:(L=!1)=>{e.innerHTML=w,e.disabled=L}}},disableCheckbox:e=>{e.disabled=!0;let t=document.querySelector(`label[for="${e.id}"]`),r=t.innerHTML;return h(t,n+r),{restore:()=>{t.innerHTML=r,e.disabled=!1}}},safeInnerHTML:h,parseUserAgent:e=>{if(!e||typeof e!="string")return"Unknown";let t=m.find(B=>B.regex.test(e))?.type??"Unknown",r=d.find(B=>B.regex.test(e))?.name??"Unknown",w=b.find(B=>B.regex.test(e)),L=w?w.name:"Unknown",I=w?e.match(w.regex)?.[1]?.replace(/_/g,".")??null:null;return`${r} ${t} ${I?`${L} ${I}`:L}`},changeOpacity:$,getGMTOffset:e=>{let t=new Date,r=new Intl.DateTimeFormat("en-US",{timeZone:e,hourCycle:"h23",hour:"numeric"}),w=(parseInt(r.format(t))-t.getUTCHours()+24)%24;return w>12&&(w-=24),`GMT${w>=0?"+":""}${w}`},convertMarkdownToHTML:e=>(i.forEach(([t,r])=>{e=e.replace(new RegExp(`\\${t}(\\S(?:[\\s\\S]*?\\S)?)\\${t}`,"g"),r)}),e)}})();var U="GET",me="PUT",Y="POST",ue="PATCH",fe="DELETE";var ae="AbortError",xe="TypeError",re={Accept:"application/json","Content-Type":"application/json"},Le="request",$e=(()=>{let n=null;return{getInstance:()=>(n||(n=window.caches.open(Le)),n),purge:()=>{n=null}}})();var X=n=>({set:(b,s,l,x)=>s.clone().arrayBuffer().then(h=>{if(!s.ok||!window.isSecureContext)return s;let $=new Date,p=new Headers(s.headers);if(p.has("Date")||p.set("Date",$.toUTCString()),l||!p.has("Cache-Control")){if(!l&&p.has("Expires")){let v=new Date(p.get("Expires"));x=Math.max(0,v.getTime()-$.getTime())}p.set("Cache-Control",`public, max-age=${Math.floor(x/1e3)}`)}return p.has("Content-Length")||p.set("Content-Length",String(h.byteLength)),n.put(b,new Response(h,{headers:p})).then(()=>s)}),has:b=>n.match(b).then(s=>{if(!s)return null;let l=s.headers.get("Cache-Control").match(/max-age=(\d+)/)[1],x=Date.parse(s.headers.get("Date"))+parseInt(l)*1e3;return Date.now()>x?null:s}),del:b=>n.delete(b)}),F=(n,i)=>{let m=new AbortController,d={signal:m.signal,credential:"include",headers:new Headers(re),method:String(n).toUpperCase()};window.addEventListener("offline",()=>m.abort(),{once:!0}),window.addEventListener("popstate",()=>m.abort(),{once:!0});let b=0,s=0,l=0,x=0,h=!1,$=null,p=null,v=null,S=E=>{let k=()=>{let o=()=>window.fetch(E,d).then(async a=>{if(!a.ok||!v)return a;let c=parseInt(a.headers.get("Content-Length")??0);if(c===0)return a;let e=[],t=0,r=a.body.getReader();for(;;){let{done:L,value:I}=await r.read();if(L)break;e.push(I),t+=I.length,await v(t,c,window.structuredClone?window.structuredClone(e):e)}let w=a.headers.get("Content-Type")??"application/octet-stream";return new Response(new Blob(e,{type:w}),{status:a.status,statusText:a.statusText,headers:new Headers(a.headers)})});return b===0||!window.isSecureContext?o():d.method!==U?(console.warn("Only method GET can be cached"),o()):$e.getInstance().then(X).then(a=>a.has(E).then(c=>c?Promise.resolve(c):a.del(E).then(o).then(e=>a.set(E,e,h,b))))};if(s===0&&l===0)return k();let u=async()=>{try{return await k()}catch(o){if(o.name===ae)throw o;if(l*=2,x++,x>s)throw new Error(`Max retries reached: ${o}`);return console.warn(`Retrying fetch (${x}/${s}): ${E.toString()}`),await new Promise(a=>window.setTimeout(a,l)),u()}};return u()},T=E=>{if(E.status!==200)return E;let k=document.querySelector("a[download]");k&&document.body.removeChild(k);let u=E.headers.get("Content-Disposition")?.match(/filename="(.+)"/)?.[1];return E.clone().blob().then(o=>{let a=document.createElement("a"),c=window.URL.createObjectURL(o);return a.href=c,a.download=u||`${p}.${$||(o.type.split("/")?.[1]??"bin")}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(c),E})};return{send(E=null){return p&&Object.keys(re).forEach(k=>d.headers.delete(k)),S(new URL(i,document.body.getAttribute("data-url"))).then(k=>p&&k.ok?{code:k.status,data:T(k),error:null}:k.json().then(u=>{if(u.error){let o=u.error.at(0),a=k.status>=500;throw new Error(a?`ID: ${u.id}
\u{1F7E5} ${o}`:`\u{1F7E8} ${o}`)}return E&&(u.data=E(u.data)),Object.assign(u,{code:k.status})})).catch(k=>{if(k.name===ae)return console.warn("Fetch aborted:",k),k;throw k.name===xe&&(k=new Error("\u{1F7E5} Network error or rate limit exceeded")),alert(k.message??String(k)),k})},withCache(E=1e3*60*60*6){return b=E,this},withForceCache(){return h=!0,this},withRetry(E=3,k=1e3){return s=E,l=k,this},withCancel(E){return E==null?this:((async()=>(await E,m.abort()))(),this)},withDownload(E,k=null){return p=E,$=k,this},withProgressFunc(E=null){return v=E,this},default(E=null){return d.headers=new Headers(E??{}),S(i).then(k=>p?T(k):k)},token(E){return E.split(".").length===3?(d.headers.append("Authorization","Bearer "+E),this):(d.headers.append("x-access-key",E),this)},body(E){if(d.method===U)throw new Error("GET method does not support body");return d.body=JSON.stringify(E),this}}};var Ae=(()=>{let n=null;return{getInstance:i=>(n||(n=new Map),n.has(i)||n.set(i,window.caches.open(i)),n.get(i))}})(),W=n=>{let i=new Map,m=new Map,d=null,b=1e3*60*60*6,s=!1,l=async()=>(!d&&window.isSecureContext&&(d=await Ae.getInstance(n)),d),x=(T,E)=>l().then(X).then(k=>{if(!E.ok)throw new Error(E.statusText);return k.set(T,E,s,b)}),h=T=>l().then(X).then(E=>E.has(T)),$=T=>l().then(X).then(E=>E.del(T)),p=(T,E=null)=>{if(i.has(T))return Promise.resolve(i.get(T));if(m.has(T))return m.get(T);let k=()=>F(U,T).withCancel(E).withRetry().default(),u=l().then(()=>window.isSecureContext?h(T).then(o=>o?Promise.resolve(o):$(T).then(k).then(a=>x(T,a))):k()).then(o=>o.blob()).then(o=>i.set(T,URL.createObjectURL(o))).then(()=>i.get(T)).finally(()=>m.delete(T));return m.set(T,u),u};return{run:(T,E=null)=>l().then(()=>{let k=new Map;return window.isSecureContext||console.warn("Cache is not supported in insecure context"),T.filter(u=>u!==null).forEach(u=>{let o=k.get(u.url)??[];k.set(u.url,[...o,[u.res,u?.rej]])}),Promise.allSettled(Array.from(k).map(([u,o])=>p(u,E).then(a=>(o.forEach(c=>c[0]?.(a)),a)).catch(a=>(o.forEach(c=>c[1]?.(a)),a))))}),del:$,has:h,set:x,get:p,open:l,download:async(T,E)=>{if(!new Map(Array.from(i.entries()).map(([u,o])=>[o,u])).has(T))try{if(!new URL(T).protocol.includes("blob"))throw new Error("Is not blob")}catch{T=await p(T)}return F(U,T).withDownload(E).default()},setTtl(T){return b=Number(T),this},withForceCache(){return s=!0,this}}};var ee=(()=>{let n=null,i=()=>{let d=document.getElementById("video-love-stroy");if(!d||!d.hasAttribute("data-src"))return d?.remove(),C.complete("video",!0),Promise.resolve();let b=d.getAttribute("data-src");if(!b)return C.complete("video",!0),Promise.resolve();let s=document.createElement("video");s.className=d.getAttribute("data-vid-class"),s.loop=!0,s.muted=!0,s.controls=!0,s.autoplay=!1,s.playsInline=!0,s.preload="metadata",s.disableRemotePlayback=!0,s.disablePictureInPicture=!0,s.controlsList="noremoteplayback nodownload noplaybackrate";let l=new IntersectionObserver($=>$.forEach(p=>p.isIntersecting?s.play():s.pause())),x=$=>(s.addEventListener("loadedmetadata",()=>{s.style.removeProperty("height"),document.getElementById("video-love-stroy-loading")?.remove()},{once:!0}),$.clone().blob().then(p=>(s.src=URL.createObjectURL(p),$))),h=()=>{let $=document.getElementById("progress-bar-video-love-stroy"),p=document.getElementById("progress-info-video-love-stroy");return F(U,b).withCancel(new Promise(v=>s.addEventListener("undangan.video.prefetch",v,{once:!0}))).default({Range:"bytes=0-1"}).then(v=>{if(s.dispatchEvent(new Event("undangan.video.prefetch")),v.status===200)return s.preload="none",s.src=f.escapeHtml(b),d.appendChild(s),Promise.resolve();if(v.status!==206)throw new Error("failed to fetch video");s.addEventListener("error",()=>C.invalid("video"),{once:!0});let S=new Promise(T=>s.addEventListener("loadedmetadata",T,{once:!0}));return s.src=f.escapeHtml(b),d.appendChild(s),S}).then(()=>{C.complete("video");let v=s.getBoundingClientRect().width*(s.videoHeight/s.videoWidth);return s.style.height=`${v}px`,F(U,s.src).withProgressFunc((S,T)=>{let E=Number(S/T*100).toFixed(0)+"%";$.style.width=E,p.innerText=E}).withRetry().default().then(x).catch(S=>{$.style.backgroundColor="red",p.innerText="Error loading video",console.error(S)}).finally(()=>l.observe(s))})};return window.isSecureContext?n.has(b).then($=>$?(C.complete("video"),x($).finally(()=>{d.appendChild(s),l.observe(s)})):n.del(b).then(h).then(p=>n.set(b,p))):h()};return{init:()=>(C.add(),n=W("video").withForceCache(),{load:i})}})();var ge=(()=>{let n=null,i=null,m=!1,d=!1,b=[],s=u=>new Promise((o,a)=>{let c=new Image;c.onload=()=>o(c),c.onerror=a,c.src=u}),l=(u,o)=>s(o).then(a=>{u.width=a.naturalWidth,u.height=a.naturalHeight,u.src=a.src,a.remove(),C.complete("image")}),x=u=>{b.push({url:u.getAttribute("data-src"),res:o=>l(u,o),rej:o=>{console.error(o),C.invalid("image")}})},h=u=>{if(u.complete&&u.naturalWidth!==0&&u.naturalHeight!==0){u.width=u.naturalWidth,u.height=u.naturalHeight,C.complete("image");return}else if(u.complete){C.invalid("image");return}u.onerror=()=>C.invalid("image"),u.onload=()=>{u.width=u.naturalWidth,u.height=u.naturalHeight,C.complete("image")}},$=()=>m,p=async u=>{if(u.hasAttribute("data-src")){let o=u.getAttribute("data-src");if(u.getAttribute("data-fetch-img")==="high")try{let a=await i.get(o,C.getAbort());await l(u,a),u.classList.remove("opacity-0")}catch(a){console.error("Error loading priority image:",a),C.invalid("image")}else try{let a=await i.get(o,C.getAbort());await l(u,a)}catch(a){console.error("Error loading priority image:",a),C.invalid("image")}}else h(u)},v=async()=>{let u=Array.from(n).filter(o=>o.getAttribute("data-priority")==="welcome");if(u.length!==0){await i.open();for(let o of u)await p(o)}},S=async u=>{if(u.getAttribute("data-fetch-img")==="high")try{let o=u.getAttribute("data-src"),a=await i.get(o,C.getAbort());await l(u,a),u.classList.remove("opacity-0")}catch(o){console.error("Error loading image:",o),C.invalid("image")}else if(u.hasAttribute("data-src"))try{let o=u.getAttribute("data-src"),a=await i.get(o,C.getAbort());await l(u,a)}catch(o){console.error("Error loading image:",o),C.invalid("image")}else h(u)},T=async()=>{let u=Array.from(n).filter(o=>o.getAttribute("data-priority")!=="welcome");if(d||(u.forEach(C.add),d=!0),!m){for(let o of u)o.hasAttribute("data-src")||h(o);return}await i.open();for(let o of u)await S(o)},E=u=>i.download(u,`image_${Date.now()}`);return{init:()=>(i=W("image").withForceCache(),n=document.querySelectorAll("img"),Array.from(n).filter(o=>o.getAttribute("data-priority")==="welcome").forEach(C.add),m=Array.from(n).some(o=>o.hasAttribute("data-src")),{load:T,loadPriorityImages:v,download:E,hasDataSrc:$})}})();var te=(()=>{let n='<i class="fa-solid fa-circle-pause spin-button"></i>',i='<i class="fa-solid fa-circle-play"></i>',m=async(b=!0)=>{let s=document.body.getAttribute("data-audio");if(!s){C.complete("audio",!0);return}let l=null;try{l=new Audio(await W("audio").withForceCache().get(s,C.getAbort())),l.loop=!0,l.muted=!1,l.autoplay=!1,l.controls=!1,C.complete("audio")}catch{C.invalid("audio");return}let x=!1,h=document.getElementById("button-music"),$=async()=>{if(!(!navigator.onLine||!h)){h.disabled=!0;try{await l.play(),x=!0,h.disabled=!1,h.innerHTML=n}catch(v){x=!1,f.notify(v).error()}}},p=()=>{x=!1,l.pause(),h.innerHTML=i};document.addEventListener("undangan.open",()=>{h.classList.remove("d-none"),b&&$()}),h.addEventListener("offline",p),h.addEventListener("click",()=>x?p():$())};return{init:()=>(C.add(),{load:m})}})();var pe={tab:m=>window.bootstrap.Tab.getOrCreateInstance(document.getElementById(m)),modal:m=>window.bootstrap.Modal.getOrCreateInstance(document.getElementById(m))};var Ie="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css",Ce="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js",Se="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.js",Be=n=>{let i=()=>n.get(Ie).then(d=>new Promise((b,s)=>{let l=document.createElement("link");l.onload=b,l.onerror=s,l.rel="stylesheet",l.href=d,document.head.appendChild(l)})),m=()=>n.get(Ce).then(d=>new Promise((b,s)=>{let l=document.createElement("script");l.onload=b,l.onerror=s,l.src=d,document.head.appendChild(l)}));return Promise.all([i(),m()]).then(()=>{if(typeof window.AOS>"u")throw new Error("AOS library failed to load");window.AOS.init()})},Me=n=>n.get(Se).then(i=>new Promise((m,d)=>{let b=document.createElement("script");b.onerror=d,b.onload=()=>{typeof window.confetti>"u"?d(new Error("Confetti library failed to load")):m()},b.src=i,document.head.appendChild(b)})),he=(n={})=>{let i=W("libs");return i.open().then(()=>{let m=[];return(n?.aos??!0)&&m.push(Be(i)),(n?.confetti??!0)&&m.push(Me(i)),Promise.all(m)})};var R=n=>{let i=(l=null)=>{try{let x=localStorage.getItem(n);if(!x)return l?void 0:{};let h=JSON.parse(x);return typeof h!="object"||h===null||Array.isArray(h)?(localStorage.setItem(n,"{}"),l?void 0:{}):l?h[String(l)]:h}catch{return console.warn(`Invalid JSON in localStorage for key "${n}", resetting...`),localStorage.setItem(n,"{}"),l?void 0:{}}},m=(l,x)=>{let h=i();h[String(l)]=x,localStorage.setItem(n,JSON.stringify(h))},d=l=>Object.keys(i()).includes(String(l)),b=l=>{if(!d(l))return;let x=i();delete x[String(l)],localStorage.setItem(n,JSON.stringify(x))},s=()=>localStorage.setItem(n,"{}");return localStorage.getItem(n)||s(),{set:m,get:i,has:d,clear:s,unset:b}};var ne=(()=>{let n={"#000000":"#ffffff","#ffffff":"#000000","#212529":"#f8f9fa","#f8f9fa":"#212529"},i=["#ffffff","#f8f9fa"],m=["#000000","#212529"],d=!1,b=null,s=null,l=()=>b.set("active","light"),x=()=>b.set("active","dark"),h=u=>{let o=s.getAttribute("content");s.setAttribute("content",u.some(a=>a===o)?n[o]:o)},$=()=>{l(),document.documentElement.setAttribute("data-bs-theme","light"),h(m)},p=()=>{x(),document.documentElement.setAttribute("data-bs-theme","dark"),h(i)},v=(u=null,o=null)=>{let a=b.get("active")==="dark";return u&&o?a?u:o:a};return{init:()=>{switch(b=R("theme"),s=document.querySelector('meta[name="theme-color"]'),b.has("active")||(window.matchMedia("(prefers-color-scheme: dark)").matches?x():l()),document.documentElement.getAttribute("data-bs-theme")){case"dark":x();break;case"light":l();break;default:d=!0}v()?p():$()},spyTop:()=>{let u=a=>a.filter(c=>c.isIntersecting).forEach(c=>{let e=c.target.classList.contains("bg-white-black")?v(m[0],i[0]):v(m[1],i[1]);s.setAttribute("content",e)}),o=new IntersectionObserver(u,{rootMargin:"0% 0% -95% 0%"});document.querySelectorAll("section").forEach(a=>o.observe(a))},change:()=>v()?$():p(),isDarkMode:v,isAutoMode:()=>d}})();var J=(()=>{let n={id:"ID",en:"US",fr:"FR",de:"DE",es:"ES",zh:"CN",ja:"JP",ko:"KR",ar:"SA",ru:"RU",it:"IT",nl:"NL",pt:"PT",tr:"TR",th:"TH",vi:"VN",ms:"MY",hi:"IN"},i=null,m=null,d=null,b=null;return{on(s,l){return b.set(s,l),this},get(){let s=b.get(d);return b.clear(),s},getCountry(){return i},getLocale(){return m},getLanguage(){return d},setDefault(s){let l=!0;n[s]||(l=!1,console.warn("Language not found, please add manually in countryMapping")),i=l?n[s]:"US",d=l?s:"en",m=`${d}_${i}`},init(){b=new Map,this.setDefault("en")}}})();var z=(()=>{let n=({uuid:p,own:v,name:S,presence:T,comment:E,created_at:k,is_admin:u,is_parent:o,gif_url:a,ip:c,user_agent:e,comments:t,like_count:r})=>({uuid:p,own:v,name:S,presence:T,comment:E,created_at:k,is_admin:u??!1,is_parent:o,gif_url:a,ip:c,user_agent:e,comments:t?.map(n)??[],like_count:r??0}),i=p=>p.map(n);return{uuidResponse:({uuid:p})=>({uuid:p}),tokenResponse:({token:p})=>({token:p}),statusResponse:({status:p})=>({status:p}),getCommentResponse:n,getCommentsResponse:i,getCommentsResponseV2:p=>({count:p.count,lists:i(p.lists)}),commentShowMore:(p,v=!1)=>({uuid:p,show:v}),postCommentRequest:(p,v,S,T,E)=>({id:p,name:v,presence:S,comment:T,gif_id:E}),postSessionRequest:(p,v)=>({email:p,password:v}),updateCommentRequest:(p,v,S)=>({presence:p,comment:v,gif_id:S})}})();var O=(()=>{let n=null,i=()=>n.get("token"),m=p=>n.set("token",p),d=p=>F(Y,"/api/session").body(p).send(z.tokenResponse).then(v=>(v.code===200&&m(v.data.token),v.code===200)),b=()=>n.unset("token"),s=()=>String(i()??".").split(".").length===3,l=p=>F(U,"/api/v2/config").withCache(1e3*60*30).withForceCache().token(p).send().then(v=>{if(v.code!==200)throw new Error("failed to get config.");let S=R("config");for(let[T,E]of Object.entries(v.data))S.set(T,E);return m(p),v}),x=()=>{if(!s())return null;try{return JSON.parse(f.base64Decode(i().split(".")[1]))}catch{return null}};return{init:()=>{n=R("session")},guest:l,isValid:()=>s()?(x()?.exp??0)>Date.now()/1e3:!1,login:d,logout:b,decode:x,isAdmin:s,setToken:m,getToken:i}})();var be=(()=>{let n=null,i=!0,m=["input[data-offline-disabled]","button[data-offline-disabled]","select[data-offline-disabled]","textarea[data-offline-disabled]"],d=()=>i,b=()=>{let v=n.firstElementChild.firstElementChild;v.classList.remove("bg-success"),v.classList.add("bg-danger"),v.firstElementChild.innerHTML='<i class="fa-solid fa-ban me-2"></i>Koneksi tidak tersedia'},s=()=>{let v=n.firstElementChild.firstElementChild;v.classList.remove("bg-danger"),v.classList.add("bg-success"),v.firstElementChild.innerHTML='<i class="fa-solid fa-cloud me-2"></i>Koneksi tersedia kembali'},l=async()=>{i&&(await f.changeOpacity(n,!1),b())},x=()=>{document.querySelectorAll(m.join(", ")).forEach(v=>{v.dispatchEvent(new Event(d()?"online":"offline")),v.setAttribute("data-offline-disabled",d()?"false":"true"),v.tagName==="BUTTON"?d()?v.classList.remove("disabled"):v.classList.add("disabled"):d()?v.removeAttribute("disabled"):v.setAttribute("disabled","true")})},h=()=>{i=!1,b(),f.changeOpacity(n,!0),x()},$=()=>{i=!0,s(),f.timeOut(l,3e3),x()};return{init:()=>{window.addEventListener("online",$),window.addEventListener("offline",h),n=document.createElement("div"),n.classList.add("fixed-top","pe-none"),n.style.cssText="opacity: 0; z-index: 1057;",n.innerHTML=`
        <div class="d-flex justify-content-center mx-auto">
            <div class="d-flex justify-content-center align-items-center rounded-pill my-2 bg-danger shadow">
                <small class="text-center py-1 px-2 mx-1 mt-1 mb-0 text-white" style="font-size: 0.8rem;"></small>
            </div>
        </div>`,document.body.insertBefore(n,document.body.lastChild)},isOnline:d}})();var P=(()=>{let n="default",i={128:2,256:3,512:4,768:5},m=null,d=null,b=null,s=null,l=(y,g,A=null)=>{let M=d.get(y);return g.map(D=>{let{id:N,media_formats:{tinygif:{url:j}},content_description:H}=D;M.pointer===-1||M.pointer===M.col-1?M.pointer=0:M.pointer++;let se=M.lists.childNodes[M.pointer]??null;return se?{url:j,res:le=>{se.insertAdjacentHTML("beforeend",`
                <figure class="hover-wrapper m-0 position-relative">
                    <button onclick="undangan.comment.gif.click(this, '${M.uuid}', '${N}', '${f.base64Encode(j)}')" class="btn hover-area position-absolute justify-content-center align-items-center top-0 end-0 bg-overlay-auto p-1 m-1 rounded-circle border shadow-sm z-1">
                        <i class="fa-solid fa-circle-check"></i>
                    </button>
                    <img src="${le}" class="img-fluid" alt="${f.escapeHtml(H)}" style="width: 100%;">
                </figure>`),A?.step()}}:null})},x=()=>m.open(),h=y=>m.get(y),$=y=>{let g=d.get(y),A=g.lists,M=document.getElementById(`gif-loading-${g.uuid}`),D=document.getElementById(`progress-bar-${g.uuid}`),N=document.getElementById(`progress-info-${g.uuid}`),j=0,H=0;A.setAttribute("data-continue","false"),A.classList.replace("overflow-y-scroll","overflow-y-hidden");let se=150,ce=!1,le=setTimeout(()=>{ce||(N.innerText=`${H}/${j}`,A.classList.contains("d-none")||M.classList.replace("d-none","d-flex"))},se);return{release:()=>{ce=!0,clearTimeout(le),A.classList.contains("d-none")||M.classList.replace("d-flex","d-none"),D.style.width="0%",N.innerText=`${H}/${j}`,A.setAttribute("data-continue","true"),A.classList.replace("overflow-y-hidden","overflow-y-scroll")},until:Te=>{j=Te,N.innerText=`${H}/${j}`},step:()=>{H+=1,N.innerText=`${H}/${j}`,D.style.width=Math.min(H/j*100,100).toString()+"%"}}},p=(y,g,A)=>{A={media_filter:"tinygif",client_key:"undangan_app",key:s.get("tenor_key"),country:J.getCountry(),locale:J.getLocale(),...A??{}};let M=Object.keys(A).filter(H=>A[H]!==null&&A[H]!==void 0).map(H=>`${H}=${encodeURIComponent(A[H])}`).join("&"),D=$(y),N=d.get(y),j=new Promise(H=>{N.reqs.push(H)});N.last=F(U,`https://tenor.googleapis.com/v2${g}?${M}`).withCache().withRetry().withCancel(j).default(re).then(H=>H.json()).then(H=>{if(H.error)throw new Error(H.error.message);return H.results.length===0?H:(N.next=H?.next,D.until(H.results.length),N.gifs.push(...H.results),m.run(l(y,H.results,D),j))}).catch(H=>{H.name===ae?console.warn("Fetch abort:",H):f.notify(H).error()}).finally(()=>D.release())},v=y=>(y=f.escapeHtml(y),`
        <label for="gif-search-${y}" class="form-label my-1"><i class="fa-solid fa-photo-film me-2"></i>Gif</label>

        <div class="d-flex mb-3" id="gif-search-nav-${y}">
            <button class="btn btn-secondary btn-sm rounded-4 shadow-sm me-1 my-1" onclick="undangan.comment.gif.back(this, '${y}')" data-offline-disabled="false"><i class="fa-solid fa-arrow-left"></i></button>
            <input type="text" name="gif-search" id="gif-search-${y}" autocomplete="on" class="form-control shadow-sm rounded-4" placeholder="Search for a GIF on Tenor" data-offline-disabled="false">
        </div>

        <div class="position-relative">
            <div class="position-absolute d-flex flex-column justify-content-center align-items-center top-50 start-50 translate-middle w-100 h-100 bg-overlay-auto rounded-4 z-3" id="gif-loading-${y}">
                <div class="progress w-25" role="progressbar" style="height: 0.5rem;" aria-label="progress bar">
                    <div class="progress-bar" id="progress-bar-${y}" style="width: 0%"></div>
                </div>
                <small class="mt-1 text-theme-auto bg-theme-auto py-0 px-2 rounded-4" id="progress-info-${y}" style="font-size: 0.7rem;"></small>
            </div>
            <div id="gif-lists-${y}" class="d-flex rounded-4 p-0 overflow-y-scroll border" data-continue="true" style="height: 15rem;"></div>
        </div>

        <figure class="d-flex m-0 position-relative" id="gif-result-${y}">
            <button onclick="undangan.comment.gif.cancel('${y}')" id="gif-cancel-${y}" class="btn d-none position-absolute justify-content-center align-items-center top-0 end-0 bg-overlay-auto p-2 m-0 rounded-circle border shadow-sm z-1">
                <i class="fa-solid fa-circle-xmark"></i>
            </button>
        </figure>`),S=async y=>{let g=d.get(y);g.reqs.forEach(A=>A()),g.reqs.length=0,g.last&&(await g.last,g.last=null)},T=async y=>{await S(y);let g=d.get(y),A=g.col??0,M=0;for(let[D,N]of Object.entries(i))M=N,g.lists.clientWidth>=parseInt(D)&&(g.col=M);if(g.col===null&&(g.col=M),A!==g.col&&(g.pointer=-1,g.limit=g.col*5,g.lists.innerHTML='<div class="d-flex flex-column"></div>'.repeat(g.col),g.gifs.length!==0)){try{await m.run(l(y,g.gifs))}catch{g.gifs.length=0}A!==g.col&&g.lists.scroll({top:g.lists.scrollHeight,behavior:"instant"}),g.gifs.length===0&&await T(y)}},E=async y=>{let g=d.get(y);if(g.lists.getAttribute("data-continue")!=="true"||!g.next||g.next.length===0)return;let A=g.query&&g.query.trim().length>0,M={pos:g.next,limit:g.limit};A&&(M.q=g.query),g.lists.scrollTop>(g.lists.scrollHeight-g.lists.clientHeight)*.8&&(await T(y),p(y,A?"/search":"/featured",M))},k=async(y,g=null)=>{let A=d.get(y);A.query=g!==null?g:A.query,(!A.query||A.query.trim().length===0)&&(A.query=null),A.col=null,A.next=null,A.pointer=-1,A.gifs.length=0,await T(y),p(y,A.query===null?"/featured":"/search",{q:A.query,limit:A.limit})},u=async(y,g,A,M)=>{let D=f.disableButton(y,f.loader.replace("me-1","me-0"),!0),N=document.getElementById(`gif-result-${g}`);N.setAttribute("data-id",A),N.querySelector(`#gif-cancel-${g}`).classList.replace("d-none","d-flex"),N.insertAdjacentHTML("beforeend",`<img src="${await h(f.base64Decode(M))}" class="img-fluid mx-auto gif-image rounded-4" alt="selected-gif">`),D.restore(),d.get(g).lists.classList.replace("d-flex","d-none"),document.getElementById(`gif-search-nav-${g}`).classList.replace("d-flex","d-none")},o=y=>{let g=document.getElementById(`gif-result-${y}`);g.removeAttribute("data-id"),g.querySelector(`#gif-cancel-${y}`).classList.replace("d-flex","d-none"),g.querySelector("img").remove(),d.get(y).lists.classList.replace("d-none","d-flex"),document.getElementById(`gif-search-nav-${y}`).classList.replace("d-none","d-flex")},a=async(y=null)=>{y?d.has(y)&&(await S(y),b.delete(y),d.delete(y)):(await Promise.allSettled(Array.from(d.keys()).map(g=>S(g))),b.clear(),d.clear())},c=async(y,g)=>{let A=f.disableButton(y,f.loader.replace("me-1","me-0"),!0);await S(g),A.restore(),document.getElementById(`gif-form-${g}`).classList.toggle("d-none",!0),document.getElementById(`comment-form-${g}`)?.classList.toggle("d-none",!1)},e=y=>{if(!d.has(y)){f.safeInnerHTML(document.getElementById(`gif-form-${y}`),v(y));let g=document.getElementById(`gif-lists-${y}`);d.set(y,{uuid:y,lists:g,last:null,limit:null,query:null,next:null,col:null,pointer:-1,gifs:[],reqs:[]});let A=f.debounce(E,150);g.addEventListener("scroll",()=>A(y));let M=f.debounce(k,850);document.getElementById(`gif-search-${y}`).addEventListener("input",D=>M(y,D.target.value))}return document.getElementById(`gif-form-${y}`).classList.toggle("d-none",!1),document.getElementById(`comment-form-${y}`)?.classList.toggle("d-none",!0),b.has(y)&&b.get(y)(),k(y)},t=y=>{let g=document.getElementById(`gif-form-${y}`);return g&&!g.classList.contains("d-none")},r=y=>document.getElementById(`gif-result-${y}`)?.getAttribute("data-id"),w=y=>document.querySelector(`[for="gif-search-${y}"]`)?.remove(),L=y=>document.querySelector(`[onclick="undangan.comment.gif.back(this, '${y}')"]`)?.remove(),I=(y,g)=>b.set(y,g),B=(y=null)=>{let g=document.getElementById(`gif-cancel-${y||n}`);return{show:()=>g.classList.replace("d-none","d-flex"),hide:()=>g.classList.replace("d-flex","d-none"),click:()=>g.dispatchEvent(new Event("click"))}},_=()=>!!s.get("tenor_key"),q=()=>{document.querySelector('[onclick="undangan.comment.gif.open(undangan.comment.gif.default)"]')?.classList.toggle("d-none",!s.get("tenor_key"))};return{default:n,init:()=>{m=W("gif"),d=new Map,b=new Map,s=R("config"),document.addEventListener("undangan.session",q)},get:h,back:c,open:e,cancel:o,click:u,remove:a,isOpen:t,onOpen:I,isActive:_,getResultId:r,buttonCancel:B,removeGifSearch:w,removeButtonBack:L,prepareCache:x}})();var G=(()=>{let n=null,i=null,m=null,d=null,b=300,s=()=>`
        <div class="bg-theme-auto shadow p-3 mx-0 mt-0 mb-3 rounded-4">
            <div class="d-flex justify-content-between align-items-center placeholder-wave">
                <span class="placeholder bg-secondary col-5 rounded-3 my-1"></span>
                <span class="placeholder bg-secondary col-3 rounded-3 my-1"></span>
            </div>
            <hr class="my-1">
            <p class="placeholder-wave m-0">
                <span class="placeholder bg-secondary col-6 rounded-3"></span>
                <span class="placeholder bg-secondary col-5 rounded-3"></span>
                <span class="placeholder bg-secondary col-12 rounded-3 my-1"></span>
            </p>
        </div>`,l=e=>`
        <button style="font-size: 0.8rem;" onclick="undangan.comment.like.love(this)" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto ms-auto rounded-3 p-0 shadow-sm d-flex justify-content-start align-items-center" data-offline-disabled="false">
            <span class="my-0 mx-1" data-count-like="${e.like_count}">${e.like_count}</span>
            <i class="me-1 ${i.has(e.uuid)?"fa-solid fa-heart text-danger":"fa-regular fa-heart"}"></i>
        </button>`,x=e=>{let t=`<div class="d-flex justify-content-start align-items-center" data-button-action="${e.uuid}">`;return m.get("can_reply")!==!1&&(t+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.reply('${e.uuid}')" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-offline-disabled="false">Reply</button>`),O.isAdmin()&&e.is_admin&&(!e.gif_url||P.isActive())?t+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.edit(this, ${e.is_parent?"true":"false"})" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-own="${e.own}" data-offline-disabled="false">Edit</button>`:n.has(e.uuid)&&m.get("can_edit")!==!1&&(!e.gif_url||P.isActive())&&(t+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.edit(this, ${e.is_parent?"true":"false"})" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-offline-disabled="false">Edit</button>`),O.isAdmin()?t+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.remove(this)" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-own="${e.own}" data-offline-disabled="false">Delete</button>`:n.has(e.uuid)&&m.get("can_delete")!==!1&&(t+=`<button style="font-size: 0.8rem;" onclick="undangan.comment.remove(this)" data-uuid="${e.uuid}" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1 shadow-sm" data-offline-disabled="false">Delete</button>`),t+="</div>",t},h=(e,t)=>{e=f.escapeHtml(e);let r=d.get("show").includes(e);return`<a class="text-theme-auto" style="font-size: 0.8rem;" onclick="undangan.comment.showOrHide(this)" data-uuid="${e}" data-uuids="${f.escapeHtml(t.join(","))}" data-show="${r?"true":"false"}" role="button" class="me-auto ms-1 py-0">${r?"Hide replies":`Show replies (${t.length})`}</a>`},$=e=>`
        <div class="d-flex justify-content-between align-items-center" id="button-${e.uuid}">
            ${x(e)}
            ${e.comments.length>0?h(e.uuid,e.comments.map(t=>t.uuid)):""}
            ${l(e)}
        </div>`,p=e=>!e.ip||!e.user_agent||e.is_admin?"":`
        <div class="mb-1 mt-3">
            <p class="text-theme-auto mb-1 mx-0 mt-0 p-0" style="font-size: 0.7rem;" id="ip-${e.uuid}"><i class="fa-solid fa-location-dot me-1"></i>${f.escapeHtml(e.ip)} <span class="mb-1 placeholder col-2 rounded-3"></span></p>
            <p class="text-theme-auto m-0 p-0" style="font-size: 0.7rem;"><i class="fa-solid fa-mobile-screen-button me-1"></i>${f.parseUserAgent(f.escapeHtml(e.user_agent))}</p>
        </div>`,v=e=>e.is_parent?'class="bg-theme-auto shadow p-3 mx-0 mt-0 mb-3 rounded-4"':`class="${d.get("hidden").find(t=>t.uuid===e.uuid).show?"":"d-none"} overflow-x-scroll mw-100 border-start bg-theme-auto py-2 ps-2 pe-0 my-2 ms-2 me-0"`,S=e=>e.is_admin?`<strong class="me-1">${f.escapeHtml(e.name)}</strong><i class="fa-solid fa-certificate text-primary"></i>`:e.is_parent?`<strong class="me-1">${f.escapeHtml(e.name)}</strong><i id="badge-${e.uuid}" data-is-presence="${e.presence?"true":"false"}" class="fa-solid ${e.presence?"fa-circle-check text-success":"fa-circle-xmark text-danger"}"></i>`:`<strong>${f.escapeHtml(e.name)}</strong>`,T=async e=>{let t=`
        <div class="d-flex justify-content-between align-items-center">
            <p class="text-theme-auto text-truncate m-0 p-0" style="font-size: 0.95rem;">${S(e)}</p>
            <small class="text-theme-auto m-0 p-0" style="font-size: 0.75rem;">${e.created_at}</small>
        </div>
        <hr class="my-1">`;if(e.gif_url)return t+`
            <div class="d-flex justify-content-center align-items-center my-2">
                <img src="${await P.get(e.gif_url)}" id="img-gif-${e.uuid}" class="img-fluid mx-auto gif-image rounded-4" alt="selected-gif">
            </div>`;let r=e.comment.length>b,w=f.convertMarkdownToHTML(f.escapeHtml(r?e.comment.slice(0,b)+"...":e.comment));return t+`
        <p class="text-theme-auto my-1 mx-0 p-0" style="white-space: pre-wrap !important; font-size: 0.95rem;" data-comment="${f.base64Encode(e.comment)}" id="content-${e.uuid}">${w}</p>
        ${r?`<p class="d-block mb-2 mt-0 mx-0 p-0"><a class="text-theme-auto" role="button" style="font-size: 0.85rem;" data-show="false" onclick="undangan.comment.showMore(this, '${e.uuid}')">Selengkapnya</a></p>`:""}`},E=async e=>{let t=await T(e),r=await Promise.all(e.comments.map(w=>E(w)));return`
        <div ${v(e)} id="${e.uuid}" style="overflow-wrap: break-word !important;">
            <div id="body-content-${e.uuid}" data-tapTime="0" data-liked="false" tabindex="0">${t}</div>
            ${p(e)}
            ${$(e)}
            <div id="reply-content-${e.uuid}">${r.join("")}</div>
        </div>`};return{init:()=>{n=R("owns"),i=R("likes"),m=R("config"),d=R("comment")},renderEdit:(e,t,r,w)=>{e=f.escapeHtml(e);let L=document.createElement("div");L.classList.add("my-2"),L.id=`inner-${e}`;let I=`
        <p class="my-1 mx-0 p-0" style="font-size: 0.95rem;"><i class="fa-solid fa-pen me-2"></i>Edit</p>
        ${r?`
        <select class="form-select shadow-sm mb-2 rounded-4" id="form-inner-presence-${e}" data-offline-disabled="false">
            <option value="1" ${t?"selected":""}>&#9989; Datang</option>
            <option value="2" ${t?"":"selected"}>&#10060; Berhalangan</option>
        </select>`:""}
        ${w?`${P.isActive()?`<div class="d-none mb-2" id="gif-form-${e}"></div>`:""}`:`<textarea class="form-control shadow-sm rounded-4 mb-2" id="form-inner-${e}" minlength="1" maxlength="1000" placeholder="Type update comment" rows="3" data-offline-disabled="false"></textarea>    
        `}
        <div class="d-flex justify-content-end align-items-center mb-0">
            <button style="font-size: 0.8rem;" onclick="undangan.comment.cancel(this, '${e}')" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1" data-offline-disabled="false">Cancel</button>
            <button style="font-size: 0.8rem;" onclick="undangan.comment.update(this)" data-uuid="${e}" class="btn btn-sm btn-outline-auto rounded-4 py-0" data-offline-disabled="false">Update</button>
        </div>`;return f.safeInnerHTML(L,I)},renderReply:e=>{e=f.escapeHtml(e);let t=document.createElement("div");t.classList.add("my-2"),t.id=`inner-${e}`;let r=`
        <p class="my-1 mx-0 p-0" style="font-size: 0.95rem;"><i class="fa-solid fa-reply me-2"></i>Reply</p>
        <div class="d-block mb-2" id="comment-form-${e}">
            <div class="position-relative">
                ${P.isActive()?`<button class="btn btn-secondary btn-sm rounded-4 shadow-sm me-1 my-1 position-absolute bottom-0 end-0" onclick="undangan.comment.gif.open('${e}')" aria-label="button gif" data-offline-disabled="false"><i class="fa-solid fa-photo-film"></i></button>`:""}
                <textarea class="form-control shadow-sm rounded-4 mb-2" id="form-inner-${e}" minlength="1" maxlength="1000" placeholder="Type reply comment" rows="3" data-offline-disabled="false"></textarea>
            </div>
        </div>
        <div class="d-none mb-2" id="gif-form-${e}"></div>
        <div class="d-flex justify-content-end align-items-center mb-0">
            <button style="font-size: 0.8rem;" onclick="undangan.comment.cancel(this, '${e}')" class="btn btn-sm btn-outline-auto rounded-4 py-0 me-1" data-offline-disabled="false">Cancel</button>
            <button style="font-size: 0.8rem;" onclick="undangan.comment.send(this)" data-uuid="${e}" class="btn btn-sm btn-outline-auto rounded-4 py-0" data-offline-disabled="false">Send</button>
        </div>`;return f.safeInnerHTML(t,r)},renderLoading:s,renderReadMore:h,renderContentMany:e=>P.prepareCache().then(()=>Promise.all(e.map(t=>E(t)))).then(t=>t.join("")),renderContentSingle:e=>P.prepareCache().then(()=>E(e)),maxCommentLength:b}})();var ye=()=>window.confetti.shapeFromPath({path:"M167 72c19,-38 37,-56 75,-56 42,0 76,33 76,75 0,76 -76,151 -151,227 -76,-76 -151,-151 -151,-227 0,-42 33,-75 75,-75 38,0 57,18 76,56z",matrix:[.03333333333333333,0,0,.03333333333333333,-5.566666666666666,-5.533333333333333]}),we=()=>{window.confetti&&window.confetti({origin:{y:1},zIndex:1057})},ve=(n=15)=>{if(!window.confetti)return;let i=n*1e3,m=Date.now()+i,d=ye(),b=["#FFC0CB","#FF1493","#C71585"],s=(x,h)=>Math.random()*(h-x)+x,l=()=>{let x=m-Date.now();b.forEach(h=>{window.confetti({particleCount:1,startVelocity:0,ticks:Math.max(50,75*(x/i)),origin:{x:Math.random(),y:Math.abs(Math.random()-x/i)},zIndex:1057,colors:[h],shapes:[d],drift:s(-.5,.5),gravity:s(.5,1),scalar:s(.5,1)})}),x>0&&requestAnimationFrame(l)};requestAnimationFrame(l)},ie=(n,i=50)=>{if(!window.confetti)return;let m=Date.now()+i,d=n.getBoundingClientRect(),b=Math.max(.3,Math.min(1,d.top/window.innerHeight+.2)),s=ye(),l=["#FF69B4","#FF1493"],x=()=>{l.forEach(h=>{window.confetti({particleCount:2,angle:60,spread:55,shapes:[s],origin:{x:d.left/window.innerWidth,y:b},zIndex:1057,colors:[h]}),window.confetti({particleCount:2,angle:120,spread:55,shapes:[s],origin:{x:d.right/window.innerWidth,y:b},zIndex:1057,colors:[h]})}),Date.now()<m&&requestAnimationFrame(x)};requestAnimationFrame(x)};var K=(()=>{let n=null,i=null,m=async h=>{let $=h.firstElementChild,p=h.lastElementChild,v=h.getAttribute("data-uuid"),S=parseInt($.getAttribute("data-count-like"));h.disabled=!0,navigator.vibrate&&navigator.vibrate(100),n.has(v)?await F(ue,"/api/comment/"+n.get(v)).token(O.getToken()).send(z.statusResponse).then(T=>{T.data.status&&(n.unset(v),p.classList.remove("fa-solid","text-danger"),p.classList.add("fa-regular"),$.setAttribute("data-count-like",String(S-1)))}).finally(()=>{$.innerText=$.getAttribute("data-count-like"),h.disabled=!1}):await F(Y,"/api/comment/"+v).token(O.getToken()).send(z.uuidResponse).then(T=>{T.code===201&&(n.set(v,T.data.uuid),p.classList.remove("fa-regular"),p.classList.add("fa-solid","text-danger"),$.setAttribute("data-count-like",String(S+1)))}).finally(()=>{$.innerText=$.getAttribute("data-count-like"),h.disabled=!1})},d=h=>document.querySelector(`button[onclick="undangan.comment.like.love(this)"][data-uuid="${h}"]`),b=async h=>{if(!navigator.onLine)return;let $=Date.now(),p=$-parseInt(h.getAttribute("data-tapTime")),v=h.id.replace("body-content-",""),S=p<300&&p>0,T=!n.has(v)&&h.getAttribute("data-liked")!=="true";S&&T&&(ie(h),h.setAttribute("data-liked","true"),await m(d(v)),h.setAttribute("data-liked","false")),h.setAttribute("data-tapTime",String($))};return{init:()=>{i=new Map,n=R("likes")},love:m,getButtonLike:d,addListener:h=>{let $=new AbortController,p=document.getElementById(`body-content-${h}`);p.addEventListener("touchend",()=>b(p),{signal:$.signal}),i.set(h,$)},removeListener:h=>{let $=i.get(h);$&&($.abort(),i.delete(h))}}})();var V=(()=>{let n=10,i=0,m=0,d=null,b=null,s=null,l=null,x=null,h=e=>{n=Number(e)},$=()=>n,p=()=>i,v=()=>m,S=()=>b.classList.contains("disabled")?null:b.classList.add("disabled"),T=()=>b.classList.contains("disabled")?b.classList.remove("disabled"):null,E=()=>s.classList.contains("disabled")?null:s.classList.add("disabled"),k=()=>s.classList.contains("disabled")?s.classList.remove("disabled"):null,u=e=>{E(),S();let t=f.disableButton(e,f.loader.replace("ms-0 me-1","mx-1"),!0),r=()=>{x.addEventListener("undangan.comment.done",()=>t.restore(),{once:!0}),x.addEventListener("undangan.comment.result",()=>x.scrollIntoView(),{once:!0}),x.dispatchEvent(new Event("undangan.comment.show"))};return{next:()=>{i+=n,e.innerHTML="Next"+e.innerHTML,r()},prev:()=>{i-=n,e.innerHTML=e.innerHTML+"Prev",r()}}};return{init:()=>{l=document.getElementById("pagination"),l.innerHTML=`
        <ul class="pagination mb-2 shadow-sm rounded-4">
            <li class="page-item disabled" id="previous">
                <button class="page-link rounded-start-4" onclick="undangan.comment.pagination.previous(this)" data-offline-disabled="false">
                    <i class="fa-solid fa-circle-left me-1"></i>Prev
                </button>
            </li>
            <li class="page-item disabled">
                <span class="page-link text-theme-auto" id="page"></span>
            </li>
            <li class="page-item" id="next">
                <button class="page-link rounded-end-4" onclick="undangan.comment.pagination.next(this)" data-offline-disabled="false">
                    Next<i class="fa-solid fa-circle-right ms-1"></i>
                </button>
            </li>
        </ul>`,x=document.getElementById("comments"),d=document.getElementById("page"),b=document.getElementById("previous"),s=document.getElementById("next")},setPer:h,getPer:$,getNext:p,reset:()=>i===0?!1:(i=0,E(),S(),!0),setTotal:e=>{if(m=Number(e),m<=n&&i===0){l.classList.add("d-none");return}let t=i/n+1,r=Math.ceil(m/n);if(d.innerText=`${t} / ${r}`,i>0&&T(),t>=r){E();return}k(),l.classList.contains("d-none")&&l.classList.remove("d-none")},geTotal:v,previous:e=>u(e).prev(),next:e=>u(e).next()}})();var oe=(()=>{let n=null,i=null,m=null,d=[],b=()=>`<div class="text-center p-4 mx-0 mt-0 mb-3 bg-theme-auto rounded-4 shadow"><p class="fw-bold p-0 m-0" style="font-size: 0.95rem;">${J.on("id","\u{1F4E2} Yuk, share undangan ini biar makin rame komentarnya! \u{1F389}").on("en","\u{1F4E2} Let's share this invitation to get more comments! \u{1F389}").get()}</p></div>`,s=(c,e)=>{document.querySelector(`[data-button-action="${c}"]`).childNodes.forEach(t=>{t.disabled=e})},l=c=>{s(c,!1),document.getElementById(`inner-${c}`).remove()},x=c=>{let e=c.getAttribute("data-uuids").split(","),t=c.getAttribute("data-show")==="true",r=c.getAttribute("data-uuid"),w=i.get("show");c.setAttribute("data-show",t?"false":"true"),c.innerText=t?`Show replies (${e.length})`:"Hide replies",i.set("show",t?w.filter(L=>L!==r):[...w,r]);for(let L of e)i.set("hidden",i.get("hidden").map(I=>(I.uuid===L&&(I.show=!t),I))),document.getElementById(L).classList.toggle("d-none",t)},h=(c,e)=>{let t=document.getElementById(`content-${e}`),r=f.base64Decode(t.getAttribute("data-comment")),w=c.getAttribute("data-show")==="false";f.safeInnerHTML(t,f.convertMarkdownToHTML(f.escapeHtml(w?r:r.slice(0,G.maxCommentLength)+"..."))),c.innerText=w?"Sebagian":"Selengkapnya",c.setAttribute("data-show",w?"true":"false")},$=async c=>{if(c.comments&&await Promise.all(c.comments.map(t=>$(t))),!c.ip||!c.user_agent||c.is_admin)return;let e=t=>{let r=document.getElementById(`ip-${f.escapeHtml(c.uuid)}`);f.safeInnerHTML(r,`<i class="fa-solid fa-location-dot me-1"></i>${f.escapeHtml(c.ip)} <strong>${f.escapeHtml(t)}</strong>`)};await F(U,`https://apip.cc/api-json/${c.ip}`).withCache().withRetry().default().then(t=>t.json()).then(t=>{let r="localhost";t.status==="success"&&(t.City.length!==0&&t.RegionName.length!==0?r=t.City+" - "+t.RegionName:t.Capital.length!==0&&t.CountryName.length!==0&&(r=t.Capital+" - "+t.CountryName)),e(r)}).catch(t=>e(t.message))},p=(c,e=[])=>{let t=i.get("show"),r=L=>L.forEach(I=>{if(e.find(B=>B.uuid===I.uuid)){r(I.comments);return}e.push(z.commentShowMore(I.uuid)),r(I.comments)}),w=L=>L.forEach(I=>{if(!t.includes(I.uuid)){w(I.comments);return}I.comments.forEach(B=>{let _=e.findIndex(q=>q.uuid===B.uuid);_!==-1&&(e[_].show=!0)}),w(I.comments)});return r(c),w(c),e},v=()=>(d.forEach(c=>{K.removeListener(c)}),m.getAttribute("data-loading")==="false"&&(m.setAttribute("data-loading","true"),m.innerHTML=G.renderLoading().repeat(V.getPer())),F(U,`/api/v2/comment?per=${V.getPer()}&next=${V.getNext()}&lang=${J.getLanguage()}`).token(O.getToken()).withCache(1e3*30).withForceCache().send(z.getCommentsResponseV2).then(async c=>{m.setAttribute("data-loading","false");for(let r of d)await P.remove(r);if(c.data.lists.length===0)return m.innerHTML=b(),c;let e=r=>r.flatMap(w=>[w.uuid,...e(w.comments)]);d.splice(0,d.length,...e(c.data.lists)),i.set("hidden",p(c.data.lists,i.get("hidden")));let t=await G.renderContentMany(c.data.lists);return c.data.lists.length<V.getPer()&&(t+=b()),f.safeInnerHTML(m,t),d.forEach(r=>{K.addListener(r)}),c}).then(async c=>(m.dispatchEvent(new Event("undangan.comment.result")),c.data.lists&&O.isAdmin()&&await Promise.all(c.data.lists.map(e=>$(e))),V.setTotal(c.data.count),m.dispatchEvent(new Event("undangan.comment.done")),c)));return{gif:P,like:K,pagination:V,init:()=>{P.init(),K.init(),G.init(),V.init(),m=document.getElementById("comments"),m.addEventListener("undangan.comment.show",v),n=R("owns"),i=R("comment"),i.has("hidden")||i.set("hidden",[]),i.has("show")||i.set("show",[])},send:async c=>{let e=c.getAttribute("data-uuid"),t=document.getElementById("form-name"),r=t.value;if(r.length===0){f.notify("Name cannot be empty.").warning(),e&&t.scrollIntoView({block:"center"});return}let w=document.getElementById("form-presence");if(!e&&w&&w.value==="0"){f.notify("Please select your attendance status.").warning();return}let L=P.isOpen(e||P.default),I=P.getResultId(e||P.default),B=P.buttonCancel(e);if(L&&!I){f.notify("Gif cannot be empty.").warning();return}L&&I&&B.hide();let _=document.getElementById(`form-${e?`inner-${e}`:"comment"}`);if(!L&&_.value?.trim().length===0){f.notify("Comments cannot be empty.").warning();return}!e&&t&&!O.isAdmin()&&(t.disabled=!0),!O.isAdmin()&&w&&w.value!=="0"&&(w.disabled=!0),_&&(_.disabled=!0);let q=document.querySelector(`[onclick="undangan.comment.cancel(this, '${e}')"]`);q&&(q.disabled=!0);let Q=f.disableButton(c),y=w?w.value==="1":!0;if(!O.isAdmin()){let A=R("information");A.set("name",r),e||A.set("presence",y)}let g=await F(Y,`/api/comment?lang=${J.getLanguage()}`).token(O.getToken()).body(z.postCommentRequest(e,r,y,L?null:_.value,I)).send(z.getCommentResponse);if(t&&(t.disabled=!1),_&&(_.disabled=!1),q&&(q.disabled=!1),w&&(w.disabled=!1),L&&I&&B.show(),Q.restore(),!(!g||g.code!==201)){if(n.set(g.data.uuid,g.data.own),_&&(_.value=null),L&&I&&B.click(),!e){if(V.reset()){await v(),m.scrollIntoView();return}V.setTotal(V.geTotal()+1),m.children.length===V.getPer()&&m.lastElementChild.remove(),g.data.is_parent=!0,g.data.is_admin=O.isAdmin(),m.insertAdjacentHTML("afterbegin",await G.renderContentMany([g.data])),m.scrollIntoView()}if(e){i.set("hidden",i.get("hidden").concat([z.commentShowMore(g.data.uuid,!0)])),i.set("show",i.get("show").concat([e])),l(e),g.data.is_parent=!1,g.data.is_admin=O.isAdmin(),document.getElementById(`reply-content-${e}`).insertAdjacentHTML("beforeend",await G.renderContentSingle(g.data));let A=document.getElementById(`button-${e}`).querySelector("a");A&&(A.getAttribute("data-show")==="false"&&x(A),A.remove());let M=[g.data.uuid],D=document.createRange().createContextualFragment(G.renderReadMore(e,A?A.getAttribute("data-uuids").split(",").concat(M):M)),N=K.getButtonLike(e);N.parentNode.insertBefore(D,N)}K.addListener(g.data.uuid),d.push(g.data.uuid)}},edit:async(c,e)=>{let t=c.getAttribute("data-uuid");s(t,!0),O.isAdmin()&&n.set(t,c.getAttribute("data-own"));let r=document.getElementById(`badge-${t}`),w=!!r&&r.getAttribute("data-is-presence")==="true",L=document.getElementById(`img-gif-${t}`);L&&await P.remove(t);let I=e&&!O.isAdmin();if(document.getElementById(`button-${t}`).insertAdjacentElement("afterend",G.renderEdit(t,w,I,!!L)),L){P.onOpen(t,()=>{P.removeGifSearch(t),P.removeButtonBack(t)}),await P.open(t);return}let B=document.getElementById(`form-inner-${t}`),_=f.base64Decode(document.getElementById(`content-${t}`)?.getAttribute("data-comment"));B.value=_,B.setAttribute("data-original",f.base64Encode(_))},reply:c=>{s(c,!0),P.remove(c).then(()=>{P.onOpen(c,()=>P.removeGifSearch(c)),document.getElementById(`button-${c}`).insertAdjacentElement("afterend",G.renderReply(c))})},remove:async c=>{if(!f.ask("Are you sure?"))return;let e=c.getAttribute("data-uuid");O.isAdmin()&&n.set(e,c.getAttribute("data-own")),s(e,!0);let t=f.disableButton(c),r=K.getButtonLike(e);if(r.disabled=!0,!await F(fe,"/api/comment/"+n.get(e)).token(O.getToken()).send(z.statusResponse).then(L=>L.data.status)){t.restore(),r.disabled=!1,s(e,!1);return}document.querySelectorAll('a[onclick="undangan.comment.showOrHide(this)"]').forEach(L=>{let I=L.getAttribute("data-uuids").split(",");if(I.includes(e)){let B=I.filter(_=>_!==e).join(",");B.length===0?L.remove():L.setAttribute("data-uuids",B)}}),n.unset(e),document.getElementById(e).remove(),m.children.length===0&&(m.innerHTML=b())},update:async c=>{let e=c.getAttribute("data-uuid"),t=!1,r=document.getElementById(`form-inner-presence-${e}`);r&&(r.disabled=!0,t=r.value==="1");let w=document.getElementById(`badge-${e}`),L=!!w&&w.getAttribute("data-is-presence")==="true",I=P.isOpen(e),B=P.getResultId(e),_=P.buttonCancel(e);I&&B&&_.hide();let q=document.getElementById(`form-inner-${e}`);if(e&&!I&&f.base64Encode(q.value)===q.getAttribute("data-original")&&L===t){l(e);return}if(!I&&q.value?.trim().length===0){f.notify("Comments cannot be empty.").warning();return}q&&(q.disabled=!0);let Q=document.querySelector(`[onclick="undangan.comment.cancel(this, '${e}')"]`);Q&&(Q.disabled=!0);let y=f.disableButton(c),g=await F(me,`/api/comment/${n.get(e)}?lang=${J.getLanguage()}`).token(O.getToken()).body(z.updateCommentRequest(r?t:null,I?null:q.value,B)).send(z.statusResponse).then(A=>A.data.status);if(q&&(q.disabled=!1),Q&&(Q.disabled=!1),r&&(r.disabled=!1),y.restore(),I&&B&&_.show(),!!g){if(I&&B&&(document.getElementById(`img-gif-${e}`).src=document.getElementById(`gif-result-${e}`)?.querySelector("img").src,_.click()),l(e),!I){let A=document.querySelector(`[onclick="undangan.comment.showMore(this, '${e}')"]`),M=document.getElementById(`content-${e}`);M.setAttribute("data-comment",f.base64Encode(q.value));let D=f.convertMarkdownToHTML(f.escapeHtml(q.value));q.value.length>G.maxCommentLength?(f.safeInnerHTML(M,A?.getAttribute("data-show")==="false"?D.slice(0,G.maxCommentLength)+"...":D),A?.classList.replace("d-none","d-block")):(f.safeInnerHTML(M,D),A?.classList.replace("d-block","d-none"))}r&&(document.getElementById("form-presence").value=t?"1":"2",R("information").set("presence",t)),!(!r||!w)&&(w.classList.toggle("fa-circle-xmark",!t),w.classList.toggle("text-danger",!t),w.classList.toggle("fa-circle-check",t),w.classList.toggle("text-success",t))}},cancel:async(c,e)=>{let t=document.getElementById(`form-inner-presence-${e}`),r=t?t.value==="1":!1,w=document.getElementById(`badge-${e}`),L=w&&n.has(e)&&t?w.getAttribute("data-is-presence")==="true":!1,I=f.disableButton(c);if(P.isOpen(e)&&(!P.getResultId(e)&&L===r||f.ask("Are you sure?"))){await P.remove(e),l(e);return}let B=document.getElementById(`form-inner-${e}`);if(B.value.length===0||f.base64Encode(B.value)===B.getAttribute("data-original")&&L===r||f.ask("Are you sure?")){l(e);return}I.restore()},show:v,showMore:h,showOrHide:x}})();var Ee=(()=>{let n=null,i=null,m=()=>{let o=new Date(document.body.getAttribute("data-time").replace(" ","T")).getTime(),a=L=>L<10?`0${L}`:`${L}`,c=document.getElementById("day"),e=document.getElementById("hour"),t=document.getElementById("minute"),r=document.getElementById("second"),w=()=>{let L=Math.abs(o-Date.now());c.textContent=a(Math.floor(L/(1e3*60*60*24))),e.textContent=a(Math.floor(L%(1e3*60*60*24)/(1e3*60*60))),t.textContent=a(Math.floor(L%(1e3*60*60)/(1e3*60))),r.textContent=a(Math.floor(L%(1e3*60)/1e3)),f.timeOut(w,1e3-Date.now()%1e3)};f.timeOut(w)},d=()=>{let o=window.location.search.split("to="),a=null;if(o.length>1&&o[1].length>=1&&(a=window.decodeURIComponent(o[1])),a){let e=document.getElementById("guest-name"),t=document.createElement("div");t.classList.add("m-2");let r=`<small class="mt-0 mb-1 mx-0 p-0">${f.escapeHtml(e?.getAttribute("data-message"))}</small><p class="m-0 p-0" style="font-size: 1.25rem">${f.escapeHtml(a)}</p>`;f.safeInnerHTML(t,r),e?.appendChild(t)}let c=document.getElementById("form-name");c&&(c.value=n.get("name")??a)},b=async()=>{let a=document.querySelectorAll(".slide-desktop");if(!a||a.length===0)return;let c=document.getElementById("root")?.querySelector(".d-sm-block");if(!c||(c.dispatchEvent(new Event("undangan.slide.stop")),window.getComputedStyle(c).display==="none"))return;if(a.length===1){await f.changeOpacity(a[0],!0);return}let e=0;for(let[L,I]of a.entries())if(L===e){I.classList.add("slide-desktop-active"),await f.changeOpacity(I,!0);break}let t=!0,r=async()=>(await f.changeOpacity(a[e],!1),a[e].classList.remove("slide-desktop-active"),e=(e+1)%a.length,t&&(a[e].classList.add("slide-desktop-active"),await f.changeOpacity(a[e],!0)),t);c.addEventListener("undangan.slide.stop",()=>{t=!1});let w=async()=>{await r()&&f.timeOut(w,6e3)};f.timeOut(w,6e3)},s=o=>{o.disabled=!0,document.body.scrollIntoView({behavior:"instant"}),document.getElementById("root").classList.remove("opacity-0"),ne.isAutoMode()&&document.getElementById("button-theme").classList.remove("d-none"),b(),ne.spyTop(),we(),f.timeOut(ve,1500),document.dispatchEvent(new Event("undangan.open")),f.changeOpacity(document.getElementById("welcome"),!1).then(a=>a.remove())},l=o=>{document.getElementById("button-modal-click").setAttribute("href",o.src),document.getElementById("button-modal-download").setAttribute("data-src",o.src);let a=document.getElementById("show-modal-image");a.src=o.src,a.width=o.width,a.height=o.height,pe.modal("modal-image").show()},x=()=>{document.getElementById("show-modal-image").addEventListener("click",o=>{let a=o.currentTarget.parentNode.querySelector(".position-absolute");a.classList.contains("d-none")?a.classList.replace("d-none","d-flex"):a.classList.replace("d-flex","d-none")})},h=o=>{navigator.vibrate&&navigator.vibrate(500),ie(o,100),f.changeOpacity(o,!1).then(a=>a.remove())},$=()=>n.set("info",!0),p=()=>{document.querySelectorAll(".font-arabic").forEach(o=>{o.innerHTML=String(o.innerHTML).normalize("NFC")})},v=()=>{document.querySelectorAll("svg").forEach(o=>{o.hasAttribute("data-class")&&f.timeOut(()=>o.classList.add(o.getAttribute("data-class")),parseInt(o.getAttribute("data-time")))})},S=()=>{let o=e=>new Date(e.replace(" ","T")+":00+07:00").toISOString().replace(/[-:]/g,"").split(".").shift(),a=new URL("https://calendar.google.com/calendar/render"),c=new URLSearchParams({action:"TEMPLATE",text:"The Wedding of Gia Hi\u1EBFu & Nh\u01B0 Qu\u1EF3nh",dates:`${o("2026-01-04 00:30")}/${o("2026-01-04 04:00")}`,details:"The Wedding of Gia Hi\u1EBFu & Nh\u01B0 Qu\u1EF3nh - S\u1EF1 g\xF3p m\u1EB7t c\u1EE7a Qu\xFD Kh\xE1ch s\u1EBD l\xE0 l\u1EDDi ch\xFAc ph\xFAc \xFD ngh\u0129a v\xE0 qu\xFD gi\xE1 nh\u1EA5t \u0111\u1ED1i v\u1EDBi gia \u0111\xECnh ch\xFAng t\xF4i!",location:"Trung t\xE2m Ti\u1EC7c c\u01B0\u1EDBi & H\u1ED9i ngh\u1ECB Golden Palace - 04-06 Nguy\u1EC5n \xC1i Qu\u1ED1c, T\xE2n Mai, Bi\xEAn H\xF2a, \u0110\u1ED3ng Nai, Vi\u1EC7t Nam",ctz:"Asia/Ho_Chi_Minh"});a.search=c.toString(),document.querySelector("#home button")?.addEventListener("click",()=>window.open(a,"_blank"))},T=()=>(C.add(),{load:a=>{he(a).then(()=>C.complete("libs")).catch(()=>C.invalid("libs"))}}),E=async()=>{v(),m(),d(),x(),p(),S(),n.has("presence")&&(document.getElementById("form-presence").value=n.get("presence")?"1":"2"),n.get("info")&&document.getElementById("information")?.remove(),await f.changeOpacity(document.getElementById("welcome"),!0),await f.changeOpacity(document.getElementById("loading"),!1).then(o=>o.remove())},k=()=>{J.init(),be.init(),oe.init(),C.init(),i=R("config"),n=R("information");let o=ge.init(),a=document.body.getAttribute("data-key"),c=new URLSearchParams(window.location.search);window.addEventListener("resize",f.debounce(b)),document.addEventListener("undangan.progress.done",()=>E()),document.addEventListener("hide.bs.modal",()=>document.activeElement?.blur()),document.getElementById("button-modal-download").addEventListener("click",e=>{o.download(e.currentTarget.getAttribute("data-src"))}),(!a||a.length<=0)&&(document.getElementById("comment")?.remove(),document.querySelector('a.nav-link[href="#comment"]')?.closest("li.nav-item")?.remove(),o.loadPriorityImages().then(()=>{let e=ee.init(),t=te.init(),r=T();e.load(),o.load(),t.load(),r.load({confetti:document.body.getAttribute("data-confetti")==="true"})}).catch(()=>{let e=ee.init(),t=te.init(),r=T();e.load(),o.load(),t.load(),r.load({confetti:document.body.getAttribute("data-confetti")==="true"})})),a&&a.length>0&&o.loadPriorityImages().then(()=>{C.add(),C.add(),o.hasDataSrc()||o.load();let e=()=>O.guest(c.get("k")??a).then(({data:t})=>{document.dispatchEvent(new Event("undangan.session")),C.complete("config");let r=ee.init(),w=te.init(),L=T();o.hasDataSrc()&&o.load(),r.load(),w.load(),L.load({confetti:t.is_confetti_animation}),oe.show().then(()=>C.complete("comment")).catch(()=>C.invalid("comment"))}).catch(()=>C.invalid("config"));window.addEventListener("load",e)}).catch(()=>{C.add(),C.add(),o.hasDataSrc()||o.load();let e=()=>O.guest(c.get("k")??a).then(({data:t})=>{document.dispatchEvent(new Event("undangan.session")),C.complete("config");let r=ee.init(),w=te.init(),L=T();o.hasDataSrc()&&o.load(),r.load(),w.load(),L.load({confetti:t.is_confetti_animation}),oe.show().then(()=>C.complete("comment")).catch(()=>C.invalid("comment"))}).catch(()=>C.invalid("config"));window.addEventListener("load",e)})};return{init:()=>(ne.init(),O.init(),O.isAdmin()&&(R("user").clear(),R("owns").clear(),R("likes").clear(),R("session").clear(),R("comment").clear()),document.addEventListener("DOMContentLoaded",k),{util:f,theme:ne,comment:oe,guest:{open:s,modal:l,showStory:h,closeInformation:$}})}})();(n=>{n.undangan=Ee.init()})(window);})();
